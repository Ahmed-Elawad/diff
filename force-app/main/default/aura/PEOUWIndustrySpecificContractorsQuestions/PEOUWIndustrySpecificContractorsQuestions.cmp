<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes" access="global" >
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/> 
    <!-- auto save -->
    <aura:registerEvent name='autoSave' type='c:CommunityFormsAutoSave' />
    <aura:attribute name='autoSaveRecords' type='map' />
    
    <aura:attribute name='contractorIndustryRec' type='Object' />
    <aura:attribute name='radioGroupOptions' type='List' default="[{'label': 'Yes', 'value':'Yes'},{'label':'No','value':'No'}]" />
    <aura:attribute name='radioOptionsSold' type='List' default="[{'label': 'Storefront', 'value':'Storefront'},{'label':'Internet','value':'Internet'},{'label':'Both','value':'Both'}]" />
    <aura:attribute name='radioGroupSites' type='List' default="[{'label': 'Single', 'value':'Single'},{'label':'Multiple','value':'Multiple'}]" />
    <aura:attribute name="dontAllowChanges" type="Boolean" default="true" />
    <aura:attribute name='naicsInfo' type='String[]' />
    <aura:attribute name="showSpecific" type="Boolean" default="false"/>
    <aura:attribute name="parentAccount" type="Account"/>
    <aura:attribute name="allAccounts" type="Account[]" />
    <aura:attribute name="showErrorMsg" type="Boolean"/>
    
    <aura:method name="validateFields" action="{!c.validate}" access="public"/>
    <!--
      <aura:if isTrue="{!v.showSpecific}">
      <lightning:layout multipleRows="true">
        <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12" largeDeviceSize="6"  padding="around-small">
    		 <lightning:input aura:id='What_services_are_subcontracted__c'
                                                 name='What_services_are_subcontracted__c'
                                                 disabled='{!v.readOnly}' onchange="{!c.handleChange}"
                                                 label="Please provide full list of services provided outside the buildings (i.e. pressure washing; window washing; emptying of garbage cans; raking / removal of leaves; clearing sidewalks / parking lots of debris and snow, etc..)" 
                                                 value="{!v.contractorIndustryRec.What_services_are_subcontracted__c}" />
                            
                                 	<lightning:input aura:id='What_are_the_hours_of_operation__c'
                                                 name='What_are_the_hours_of_operation__c'
                                                 disabled='{!v.readOnly}' onchange="{!c.handleChange}"
                                                 label="What is the typical shift schedule / hours employees work?" 
                                                 value="{!v.contractorIndustryRec.What_are_the_hours_of_operation__c}" />
                              
                              		<lightning:radioGroup aura:id='Any_work_in_residential_homes__c'
                                                      disabled='{!v.readOnly}' onchange="{!c.handleChange}" 
                                                      name='Any_work_in_residential_homes__c'
                                                      label="Any work in residential homes?"
                                                      options="{!v.radioGroupOptions}"
                                                      value="{!v.contractorIndustryRec.Any_work_in_residential_homes__c}"
                                                          />
          	</lightning:layoutItem>
                            <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12" largeDeviceSize="6"  padding="around-small">
                            
                            	  	<lightning:radioGroup aura:id='Employees_work_at_one_multi_Sites__c'
                                                      disabled='{!v.readOnly}' onchange="{!c.handleChange}" 
                                                      name='Employees_work_at_one_multi_Sites__c'
                                                      label="Will employees work at one location or go to multiple locations throughout their shift? "
                                                      options="{!v.radioGroupSites}"
                                                      value="{!v.contractorIndustryRec.Employees_work_at_one_multi_Sites__c}"
                                                      />
                                    <aura:if isTrue="{!v.contractorIndustryRec.Employees_work_at_one_multi_Sites__c=='Multiple'}" >
                                     	<lightning:radioGroup aura:id='Will_employees_drive_together__c'
                                                      disabled='{!v.readOnly}' onchange="{!c.handleChange}" 
                                                      name='Will_employees_drive_together__c'
                                                      label="Will employees drive together?"
                                                      options="{!v.radioGroupOptions}"
                                                      value="{!v.contractorIndustryRec.Will_employees_drive_together__c}"
                                                      />
                                        <lightning:input aura:id='Max_emp_count_allowed_in_vehicle__c'
                                                      disabled='{!v.readOnly}' onchange="{!c.handleChange}" 
                                                      name='Max_emp_count_allowed_in_vehicle__c'
                                                      label="What would be the max # of employees in a vehicle at one time?"
                                                       type='number'
                                                      value="{!v.contractorIndustryRec.Max_emp_count_allowed_in_vehicle__c}"
                                                      />
                                	</aura:if>
                                  <lightning:input aura:id='Number_Of_Employees_Working_Each_Shift__c'
                                                      disabled='{!v.readOnly}' onchange="{!c.handleChange}" 
                                                      name='Number_Of_Employees_Working_Each_Shift__c'
                                                      label="How many employees work at each site during the shift?"
                                                    	value="{!v.contractorIndustryRec.Number_Of_Employees_Working_Each_Shift__c}"
                                                      />
                                  <lightning:input aura:id='Any_special_cleaning__c'
                                                      disabled='{!v.readOnly}' onchange="{!c.handleChange}" 
                                                      name='Any_special_cleaning__c'
                                                      label="Are cleaning supplies left at each site, or do employees take them from place to place?"
                                                    value="{!v.contractorIndustryRec.Any_special_cleaning__c}"
                                                      />
          </lightning:layoutItem>
          </lightning:layout>
            
    <aura:set attribute="else">	-->
     <lightning:layout multipleRows="true">
        <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12" largeDeviceSize="6"  padding="around-small">
    
            <!--lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Operates_in_residential_commercial_both__c'
                                  label="Do you operate in residential, commercial or both?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Operates_in_residential_commercial_both__c}"
                                  required="true"/-->
            <!--aura:if isTrue="{!v.contractorIndustryRec.Operates_in_residential_commercial_both__c=='Yes'}"-->
            <ui:message severity="info" closable="false">
                The total must be equal to 100%
            </ui:message>
            <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             type='Number'
                             name='Percentage_of_residential_work__c'
                             label="What percentage of your work is on residential projects?"
                             onchange='{!c.handleChange}'
                             value="{!v.contractorIndustryRec.Percentage_of_residential_work__c}"
                             required="true"/>
            <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             type='Number'
                             name='Percentage_of_commercial_work__c'
                             label="What percentage is on commercial projects?"
                             onchange='{!c.handleChange}'
                             value="{!v.contractorIndustryRec.Percentage_of_commercial_work__c}"
                             required="true"/>
            <aura:if isTrue="{!v.showErrorMsg}">
                <div class="errorMsg">The total must be equal to 100%</div>
            </aura:if>
            <!--/aura:if-->
            <br />
            Your services consist of:
            <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             type='Number'
                             name='Percentage_of_repair_work__c'
                             label="Percentage of repair work"
                             onchange='{!c.handleChange}'
                             value="{!v.contractorIndustryRec.Percentage_of_repair_work__c}"
                             required="true"/>
            <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             type='Number'
                             name='percentage_of_new_service_installation__c'
                             label="Percentage of new service/installation"
                             onchange='{!c.handleChange}'
                             value="{!v.contractorIndustryRec.percentage_of_new_service_installation__c}"
                             required="true"/>
            <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             type='Number'
                             name='Percentage_of_interior_work__c'
                             label="Percentage of interior work"
                             onchange='{!c.handleChange}'
                             value="{!v.contractorIndustryRec.Percentage_of_interior_work__c}"
                             required="true"/>
            <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             type='Number'
                             name='Percentage_of_exterior_work__c'
                             label="Percentage of exterior work"
                             onchange='{!c.handleChange}'
                             value="{!v.contractorIndustryRec.Percentage_of_exterior_work__c}"
                             required="true"/>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Works_on_roofs_rooftops__c'
                                  label="Do you engage in any type of work involving roof or rooftop exposure?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Works_on_roofs_rooftops__c}"
                                  required="true"/>
            <aura:if isTrue="{!v.contractorIndustryRec.Works_on_roofs_rooftops__c=='Yes'}">
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 name='Description_of_rooftop_work__c'
                                 label="Description of rooftop work"
                                 onchange='{!c.handleChange}'
                                 value="{!v.contractorIndustryRec.Description_of_rooftop_work__c}"
                                 required="true"/>
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 name='Description_of_rooftop_safety_features__c'
                                 label="Description of rooftop safety features"
                                 onchange='{!c.handleChange}'
                                 value="{!v.contractorIndustryRec.Description_of_rooftop_safety_features__c}"
                                 required="true"/>
            </aura:if>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Engages_in_work_with_attic_exposure__c'
                                  label="Do you engage in any type of work involving attic exposure?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Engages_in_work_with_attic_exposure__c}"
                                  required="true"/>
            <aura:if isTrue="{!v.contractorIndustryRec.Engages_in_work_with_attic_exposure__c=='Yes'}">
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 name='Describe_attic_work_exposure__c'
                                 label="Describe attic work exposure"
                                 onchange='{!c.handleChange}'
                                 value="{!v.contractorIndustryRec.Describe_attic_work_exposure__c}"
                                 required="true"/>
                <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                      name='Has_call_in_system_for_empl_wellbeing__c'
                                      label="Is there any type of call-in system for employees well-being?"
                                      options="{!v.radioGroupOptions}"
                                      onchange='{!c.handleChange}'
                                      value="{!v.contractorIndustryRec.Has_call_in_system_for_empl_wellbeing__c}"
                                      required="true"/>
            </aura:if>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Engages_in_airduct_cleaning__c'
                                  label="Do you engage in any air duct cleaning? "
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Engages_in_airduct_cleaning__c}"
                                  required="true"/>
            <aura:if isTrue="{!v.contractorIndustryRec.Engages_in_airduct_cleaning__c=='Yes'}">
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 type='Number'
                                 name='Percentage_of_airduct_cleaning_work__c'
                                 label="What % of your work is attributable to airduct cleaning?"
                                 onchange='{!c.handleChange}'
                                 value="{!v.contractorIndustryRec.Percentage_of_airduct_cleaning_work__c}"
                                 required="true"/>
            </aura:if>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Engages_in_generator_installation__c'
                                  label="Do you engage in any generator installation?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Engages_in_generator_installation__c}"
                                  required="true"/>
            <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             type='Number'
                             name='Maximum_height_applicants_work_from__c'
                             label="What is the maximum height applicant works from (in feet) – this includes ladder, lifts, etc..?"
                             value="{!v.contractorIndustryRec.Maximum_height_applicants_work_from__c}"
                             onchange='{!c.handleChange}'
                             required="true"/>
            <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             name='Type_of_equipment_used_include_heavy__c'
                             label="What type of equipment is used, including heavy equipment?  e.g. Ladder, scaffolding, scissor lifts, booms, cranes,  etc."
                             onchange='{!c.handleChange}'
                             value="{!v.contractorIndustryRec.Type_of_equipment_used_include_heavy__c}"
                             required="true"/>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Any_high_voltage_work__c'
                                  label="Any high voltage work?"
                                  options="{!v.radioGroupOptions}"
                                  value="{!v.contractorIndustryRec.Any_high_voltage_work__c}"
                                  onchange='{!c.handleChange}'
                                  required="true"/>
            <aura:if isTrue="{!v.contractorIndustryRec.Any_high_voltage_work__c=='Yes'}">
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 type='Number'
                                 name='Percentage_of_high_voltage_work__c'
                                 label="What percentage of the overall work is high voltage?"
                                 value="{!v.contractorIndustryRec.Percentage_of_high_voltage_work__c}"
                                 onchange='{!c.handleChange}'
                                 required="true"/>
            </aura:if>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Any_work_underground_trenching__c'
                                  label="Any work underground (trenching)?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Any_work_underground_trenching__c}"
                                  required="true"/>
            <aura:if isTrue="{!v.contractorIndustryRec.Any_work_underground_trenching__c=='Yes'}">
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 name='What_kind_of_trenching_work__c'
                                 label="What kind of trenching work?"
                                 value="{!v.contractorIndustryRec.What_kind_of_trenching_work__c}"
                                 onchange='{!c.handleChange}'
                                 required="true"/>
            </aura:if>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Is_PPE_required__c'
                                  label="Is Personal Protective Equipment (PPE) required?"
                                  options="{!v.radioGroupOptions}"
                                  value="{!v.contractorIndustryRec.Is_PPE_required__c}"
                                  onchange='{!c.handleChange}'
                                  required="true"/>
            <aura:if isTrue="{!v.contractorIndustryRec.Is_PPE_required__c=='Yes'}">
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 name='Please_provide_a_list_of_PPE_required__c'
                                 label="Please provide a list of PPE required"
                                 value="{!v.contractorIndustryRec.Please_provide_a_list_of_PPE_required__c}"
                                 onchange='{!c.handleChange}'
                                 required="true"/>
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 type='Number'
                                 name='Percentage_PPE_covered_by_business__c'
                                 label="What amount do you pay for? %"
                                 value="{!v.contractorIndustryRec.Percentage_PPE_covered_by_business__c}"
                                 onchange='{!c.handleChange}'
                                 required="true"/>
            </aura:if>
        </lightning:layoutItem>
        <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="12" largeDeviceSize="6"  padding="around-small">
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Has_restriction_on_weight_one_ee_lift__c'
                                  label="Is there a weight restriction any one EE may/would lift (lbs)?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Has_restriction_on_weight_one_ee_lift__c}"
                                  required="true"/>
            <aura:if isTrue="{!v.contractorIndustryRec.Has_restriction_on_weight_one_ee_lift__c=='Yes'}">
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 type='Number'
                                 name='Maximum_weight_one_EE_can_lift__c'
                                 label="What is the maximum weight (lbs)?"
                                 onchange='{!c.handleChange}'
                                 value="{!v.contractorIndustryRec.Maximum_weight_one_EE_can_lift__c}"
                                 required="true"/>
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 name='Controls_in_place_for_max_over_50lb__c'
                                 label="What controls / aids are in place if > 50 pounds?"
                                 value="{!v.contractorIndustryRec.Controls_in_place_for_max_over_50lb__c}"
                                 onchange='{!c.handleChange}'
                                 required="true"/>
            </aura:if>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Employs_trainees_or_apprentices__c'
                                  label="Do you employ any trainees or apprentices?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Employs_trainees_or_apprentices__c}"
                                  required="true"/>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Training_is_required_for_all_employees__c'
                                  label="Is a training program required for all employees?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Training_is_required_for_all_employees__c}"
                                  required="true"/>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Has_lockout_Tagout_program_in_place__c'
                                  label="Do you have a Lockout – Tagout (LOTO) Program in place?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Has_lockout_Tagout_program_in_place__c}"
                                  required="true"/>
            <!--lightning:radioGroup disabled='{!v.dontAllowChanges}' 
                                  name='Has_full_safety_program_in_place__c'
                                  label="Do you have a full Safety Program in place?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Has_full_safety_program_in_place__c}"
                                  required="true"/-->
            <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             name='Has_24hr_svc_using_answering_or_on_call__c'
                             label="If 24 Hour / 7 Days service is advertised, is this an answering service, or will techs be sent out at any time of day or night?"
                             value="{!v.contractorIndustryRec.Has_24hr_svc_using_answering_or_on_call__c}"
                             onchange='{!c.handleChange}'
                             required="true"/>
            <!--lightning:input disabled='{!v.dontAllowChanges}' 
                             name='If_licensed_who_is_the_Qualifying_agent__c'
                             label="If you are a licensed contractor, who is the Qualifying agent (license holder)?"
                             value="{!v.contractorIndustryRec.If_licensed_who_is_the_Qualifying_agent__c}"
                             onchange='{!c.handleChange}'
                             required="true"/-->
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='CAL_OSHA_visited_or_cited_bus_past_3_yrs__c'
                                  label="Has CAL/OSHA visited or cited the business in the last 3 years?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.CAL_OSHA_visited_or_cited_bus_past_3_yrs__c}"
                                  required="true"/>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Are_owners_active_in_daily_operations__c'
                                  label="Are owners active in daily operations?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Are_owners_active_in_daily_operations__c}"
                                  required="true"/>
            <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Do_you_subcontract_any_work__c'
                                  label="Do you subcontract any work?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Do_you_subcontract_any_work__c}"
                                  required="true"/>
            <aura:if isTrue="{!v.contractorIndustryRec.Do_you_subcontract_any_work__c=='Yes'}">
                 <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                             type='Number'
                             name='How_many_subcontractors__c'
                             label="How many?"
                             value="{!v.contractorIndustryRec.How_many_subcontractors__c}"
                             onchange='{!c.handleChange}'
                             required="true"/>
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 type='Number'
                                 name='Percentage_of_subcontracted_work__c'
                                 label="What % of work is contracted out"
                                 value="{!v.contractorIndustryRec.Percentage_of_subcontracted_work__c}"
                                 onchange='{!c.handleChange}'
                                 required="true"/>
                <lightning:input aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                 name='Type_of_subcontracted_work__c'
                                 label="What type of work is contracted out?"
                                 value="{!v.contractorIndustryRec.Type_of_subcontracted_work__c}"
                                 onchange='{!c.handleChange}'
                                 required="true"/>
                <lightning:radioGroup aura:id='isqQue' disabled='{!v.dontAllowChanges}' 
                                  name='Subcontractor_required_to_supply_foreman__c'
                                  label="Are subcontractors required to provide a foreman or supervisor for each jobsite?"
                                  options="{!v.radioGroupOptions}"
                                  onchange='{!c.handleChange}'
                                  value="{!v.contractorIndustryRec.Subcontractor_required_to_supply_foreman__c}"
                                  required="true"/>
            </aura:if>
        </lightning:layoutItem>
    </lightning:layout>
        
</aura:component>