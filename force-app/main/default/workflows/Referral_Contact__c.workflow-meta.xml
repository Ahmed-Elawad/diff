<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Automated_Email_for_new_Financial_Advisor_Record</fullName>
        <description>Automated Email for new Financial Advisor Record</description>
        <protected>false</protected>
        <recipients>
            <field>Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>fasupport@paychex.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>HRS_4S_Broker_Support/FA_Web_Request_Automated</template>
    </alerts>
    <alerts>
        <fullName>RepIDNeeded</fullName>
        <description>Rep ID Needed</description>
        <protected>false</protected>
        <recipients>
            <type>creator</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>All_Templates/NeedRepID</template>
    </alerts>
    <fieldUpdates>
        <fullName>AICPA_Enrolled_Date</fullName>
        <field>AICPA_Enrolled_Date__c</field>
        <formula>TODAY()</formula>
        <name>AICPA Enrolled Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>AICPA_Original_Type</fullName>
        <description>When AICPA Enrolled changes to &apos;Y&apos;, capture the current Referral Type in this field.</description>
        <field>AICPA_Original_Type__c</field>
        <formula>TEXT(Referral_Type__c)</formula>
        <name>AICPA Original Type</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Clear_First_Name_Field</fullName>
        <description>Clears out First name field on ref contact so integration will perform new parse and update WAR when full name field is changed.</description>
        <field>First_Name__c</field>
        <name>Clear First Name Field</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Clear_Last_Name_Field</fullName>
        <description>Clears out last name field on ref contact so integration will perform new parse and update WAR when full name field is changed.</description>
        <field>Last_Name__c</field>
        <name>Clear Last Name Field</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Date_Profiled</fullName>
        <field>Profiled_Date__c</field>
        <formula>today()</formula>
        <name>Date Profiled</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>PopulateRflCallType</fullName>
        <field>Referral_Type__c</field>
        <literalValue>50 CPA Non-referring</literalValue>
        <name>Populate Rfl Call Type</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Profile_Check</fullName>
        <field>Profiled__c</field>
        <literalValue>1</literalValue>
        <name>Profile Check</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Ref_Ctct_Check_To_be_Merged</fullName>
        <description>Referral Account: To Be Merged/Merged</description>
        <field>To_Be_Merged_Merged__c</field>
        <literalValue>1</literalValue>
        <name>Ref Ctct: Check To be Merged</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Ref_Ctct_Clear_Merge_Name</fullName>
        <description>clears the value in Merge Name field</description>
        <field>Merge_Name__c</field>
        <name>Ref Ctct: Clear Merge Name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Ref_Ctct_Clear_Merge_Requested_Date</fullName>
        <description>clears the merge requested date</description>
        <field>Merge_Request_Date__c</field>
        <name>Ref Ctct: Clear Merge Requested Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Ref_Ctct_Clear_to_Be_Merged</fullName>
        <description>clears to be merged checkbox</description>
        <field>To_Be_Merged_Merged__c</field>
        <literalValue>0</literalValue>
        <name>Ref Ctct: Clear to Be Merged</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Ref_Ctct_Create_Merge_Request_Date</fullName>
        <description>populates todays date when a merge name is input</description>
        <field>Merge_Request_Date__c</field>
        <formula>today()</formula>
        <name>Ref Ctct: Create Merge Request Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UpdateCallTypeto52BankCall</fullName>
        <field>Referral_Type__c</field>
        <literalValue>Bank Employee</literalValue>
        <name>Update Call Type to 52 Bank Call</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UpdateCallTypetoIndInsAgent</fullName>
        <field>Referral_Type__c</field>
        <literalValue>IIA General</literalValue>
        <name>Update Call Type to Ind Ins Agent</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UpdateCalltypetoMoneyManager</fullName>
        <field>Referral_Type__c</field>
        <literalValue>Money Manager</literalValue>
        <name>Update Call type to Money Manager</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_AKC_Registered_Date</fullName>
        <field>Date_AKC_Registered__c</field>
        <formula>TODAY()</formula>
        <name>Update AKC Registered Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Ref_Contact_401k_Sensitivity</fullName>
        <field>Sensitivity_401_k__c</field>
        <literalValue>1</literalValue>
        <name>Update Ref Contact 401k Sensitivity</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Ref_Contact_Ins_Sensitivity</fullName>
        <field>Sensitivity_Health_Ins__c</field>
        <literalValue>1</literalValue>
        <name>Update Ref Contact Ins Sensitivity</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Bank of Colorado Product Sensitivity</fullName>
        <actions>
            <name>Update_Ref_Contact_401k_Sensitivity</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Ref_Contact_Ins_Sensitivity</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>This sets a product sensitivity if a referral contact is created under bank of colorado.</description>
        <formula>Or(Contains(Referral_Account__r.Parent_Referral_Account__r.Name,&apos;Bank of Colorado&apos;),Contains(Referral_Account__r.Name,&apos;Bank of Colorado&apos;))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Paychex Retirement Service</fullName>
        <actions>
            <name>Automated_Email_for_new_Financial_Advisor_Record</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Welcome_Email_Sent</name>
            <type>Task</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Referral_Contact__c.Referral_Type__c</field>
            <operation>equals</operation>
            <value>Financial Advisor</value>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.RecordTypeId</field>
            <operation>equals</operation>
            <value>HRS Referral Record Type,Core Referral Record Type</value>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Email_Opt_Out__c</field>
            <operation>notEqual</operation>
            <value>True</value>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Email__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.SalesBroker_Primary_Record__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <description>Send an email when certain referral contacts are created</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Profiled CPA</fullName>
        <actions>
            <name>Date_Profiled</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Profile_Check</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <booleanFilter>1 AND 2 AND 3 AND 4 AND 5 and 6 and 7 and 8 and 9 and 10 and 11 and 12 and 13</booleanFilter>
        <criteriaItems>
            <field>Referral_Contact__c.Phone__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Email__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Payroll_Philosophy__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Payroll_Involvement__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Payroll_Done_By__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Preferred_Method__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Number_of_Business_Clients__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Number_of_Payroll_Clients__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.ADP_Clients__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.Local_Provider__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.In_House__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.S_Corp_Officer_Only__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Referral_Contact__c.House_Hold_Payrolls__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Ref Ctct%3A Clear Merge Field After Merge</fullName>
        <actions>
            <name>Ref_Ctct_Clear_Merge_Name</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Ref_Ctct_Clear_Merge_Requested_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Ref_Ctct_Clear_to_Be_Merged</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>After 9 days, clear out outstanding Merge fields</description>
        <formula>AND( To_Be_Merged_Merged__c, (LOWER(RIGHT( Merge_Name__c , 8)) = &quot;primary1&quot; ) || (LOWER(RIGHT( Merge_Name__c , 8)) = &quot;sfdcapi1&quot; ))</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <timeLength>9</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Ref Ctct%3A Clear Out Old Merge Info</fullName>
        <active>false</active>
        <criteriaItems>
            <field>Referral_Contact__c.Merge_Name__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <description>After 9 days, clear out outstanding Merge fields</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Ref_Ctct_Clear_Merge_Name</name>
                <type>FieldUpdate</type>
            </actions>
            <actions>
                <name>Ref_Ctct_Clear_Merge_Requested_Date</name>
                <type>FieldUpdate</type>
            </actions>
            <actions>
                <name>Ref_Ctct_Clear_to_Be_Merged</name>
                <type>FieldUpdate</type>
            </actions>
            <timeLength>9</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Ref Ctct%3A Merge Requested Date</fullName>
        <actions>
            <name>Ref_Ctct_Create_Merge_Request_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Referral_Contact__c.Merge_Name__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>User.ProfileId</field>
            <operation>notEqual</operation>
            <value>System Administrator</value>
        </criteriaItems>
        <description>Set merge date once a merge name is input</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Ref Ctct%3A To Be Merged</fullName>
        <actions>
            <name>Ref_Ctct_Check_To_be_Merged</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>Checks to be merged when Merge Name is entered on a non surviving record</description>
        <formula>AND( LEN( Merge_Name__c ) &lt;&gt; 0, (LOWER(RIGHT( Merge_Name__c , 8))&lt;&gt;&quot;primary1&quot; ) &amp;&amp; (LOWER(RIGHT( Merge_Name__c , 8))&lt;&gt;&quot;sfdcapi1&quot; ))</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Referral Contact - AICPA Enrolled Date</fullName>
        <actions>
            <name>AICPA_Enrolled_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Referral_Contact__c.AICPA_Enrolled__c</field>
            <operation>equals</operation>
            <value>Y</value>
        </criteriaItems>
        <description>Enters todays date in the AICPA Enrolled Date field when AICPA enrolled is set to Y
Adds Referral Type at the time AICPA is set to Y to the AICPA Original Type field
removed AICPA Original Type field update - case 29554349</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Referral Contact - AKC Registered Date</fullName>
        <actions>
            <name>Update_AKC_Registered_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Referral_Contact__c.AKC_Registered__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <description>Enters todays date in the Date AKC Registered field when AKC Registered is set to True</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <tasks>
        <fullName>Welcome_Email_Sent</fullName>
        <assignedTo>sfdc_automation@paychex.com</assignedTo>
        <assignedToType>user</assignedToType>
        <dueDateOffset>0</dueDateOffset>
        <notifyAssignee>false</notifyAssignee>
        <priority>Normal</priority>
        <protected>false</protected>
        <status>Completed</status>
        <subject>Welcome Email Sent</subject>
    </tasks>
</Workflow>
