<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <fieldUpdates>
        <fullName>UpdateTimeForMedical</fullName>
        <field>Medical_Docs_to_CS__c</field>
        <formula>IF( ISNULL( Medical_Docs_to_CS__c ) ,NOW(), Medical_Docs_to_CS__c )</formula>
        <name>UpdateTimeForMedical</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UpdateTimeForRisk</fullName>
        <field>Risk_Docs_to_CS__c</field>
        <formula>IF(  ISNULL(Risk_Docs_to_CS__c) ,NOW(),Risk_Docs_to_CS__c)</formula>
        <name>UpdateTimeForRisk</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Checklist_Reject_Status_Date_Fiel</fullName>
        <field>Reject_Sent_back_to_Sales_Status_Date__c</field>
        <formula>NOW()</formula>
        <name>Update Checklist Reject Status Date Fiel</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_In_Progress_Status_Date_Field</fullName>
        <field>In_Progress_Status_Date__c</field>
        <formula>NOW()</formula>
        <name>Update In Progress Status Date Field</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_med_submission_time_stamp</fullName>
        <description>Update the time stamp when submission is true</description>
        <field>PEO_Med_prequal_sub_time_stamp__c</field>
        <formula>LastModifiedDate</formula>
        <name>Update med submission time stamp</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>PEO Checklist Current Step In progress</fullName>
        <actions>
            <name>Update_In_Progress_Status_Date_Field</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>PEO_Onboarding_Checklist__c.Current_Step__c</field>
            <operation>equals</operation>
            <value>In Progress</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>PEO Checklist Set to rejected</fullName>
        <actions>
            <name>Update_Checklist_Reject_Status_Date_Fiel</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>PEO_Onboarding_Checklist__c.Current_Step__c</field>
            <operation>equals</operation>
            <value>Reject/Sent back to Sales</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>PEO Update submission time stamp</fullName>
        <actions>
            <name>Update_med_submission_time_stamp</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>PEO_Onboarding_Checklist__c.Med_pre_qual_submission__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <description>Updates the Medical pre qualifier submission timestamp when Med pre qualifier field is checked.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>PopulateAlldocssubmission</fullName>
        <actions>
            <name>UpdateTimeForMedical</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>UpdateTimeForRisk</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>AND( ISPICKVAL( Submit_Docs_to_Clientspace__c ,&apos;All&apos;) ,OR( ISNULL( Medical_Docs_to_CS__c ) , ISNULL( Risk_Docs_to_CS__c ) ))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>PopulateMedicaldocssubmission</fullName>
        <actions>
            <name>UpdateTimeForMedical</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>PEO_Onboarding_Checklist__c.Submit_Docs_to_Clientspace__c</field>
            <operation>equals</operation>
            <value>Medical</value>
        </criteriaItems>
        <criteriaItems>
            <field>PEO_Onboarding_Checklist__c.Medical_Docs_to_CS__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>PopulateRiskdocssubmission</fullName>
        <actions>
            <name>UpdateTimeForRisk</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>PEO_Onboarding_Checklist__c.Submit_Docs_to_Clientspace__c</field>
            <operation>equals</operation>
            <value>Risk</value>
        </criteriaItems>
        <criteriaItems>
            <field>PEO_Onboarding_Checklist__c.Risk_Docs_to_CS__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
