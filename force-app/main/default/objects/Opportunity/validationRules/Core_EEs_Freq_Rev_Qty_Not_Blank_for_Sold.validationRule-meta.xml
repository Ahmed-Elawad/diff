<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Core_EEs_Freq_Rev_Qty_Not_Blank_for_Sold</fullName>
    <active>true</active>
    <description>Used to ensure Sold opportunities have nbr of EEs, a Freq and an Amount in Revenue field.</description>
    <errorConditionFormula>(ISBLANK(Payroll_Units__c ) || Payroll_Units__c &gt; 0.00) &amp;&amp;
ISCHANGED(StageName) &amp;&amp;
ISPICKVAL( StageName , &quot;Sold&quot;) &amp;&amp;
($RecordType.Id =&quot;012500000000n4L&quot; || $RecordType.Id =&quot;0120g000000EAaC&quot;) &amp;&amp; $Profile.Name &lt;&gt; &quot;System Administrator&quot; 
&amp;&amp;  (ISPICKVAL(OpportunityType__c, &apos;Payroll&apos;)) &amp;&amp;
( 
ISBLANK( Employees_Paid_Per_Payroll__c) || 
Employees_Paid_Per_Payroll__c &lt;1.00 || 
ISPICKVAL( Frequency__c ,&quot;&quot;) || 
ISBLANK(Amount) || 
ISPICKVAL( Service_Location__c ,&quot;&quot;) 
)</errorConditionFormula>
    <errorMessage>Before updating your opportunity to Sold, you ** must ** update the Open opportunity with the number of EEâ€™s, Payroll Frequency, Revenue, Number of Units and Service Location. Move the Status back to an Open Status and update as needed.</errorMessage>
</ValidationRule>
