<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Opp_Sold_Received_Statement_Validation</fullName>
    <active>true</active>
    <description>If the status is set to Sold for a Merchant Services (Payment Processing) Opportunity, the New Processor and MID fields are required.</description>
    <errorConditionFormula>AND($RecordType.Name=&apos;Payment Processing Opportunity&apos;,ISPICKVAL(StageName,&apos;Sold&apos;),ISPICKVAL(Received_Statement__c, &apos;&apos;),
NOT( ISPICKVAL(OpportunityType__c,&apos;Referral&apos;))
)</errorConditionFormula>
    <errorDisplayField>Received_Statement__c</errorDisplayField>
    <errorMessage>You must populate the &quot;Received Statement&quot; field before setting the Opportunity Status to Sold.</errorMessage>
</ValidationRule>
