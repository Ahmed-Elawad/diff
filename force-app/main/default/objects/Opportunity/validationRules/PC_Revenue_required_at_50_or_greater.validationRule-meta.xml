<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>PC_Revenue_required_at_50_or_greater</fullName>
    <active>false</active>
    <description>You must enter a valid product and revenue before an opportunity can be changed to 50% or greater.</description>
    <errorConditionFormula>AND(
OR(
AND( 
ISCHANGED(StageName),
Probability &gt;= 0.50, 
OR(ISBLANK(Primary_Opportunity__r.Amount),ISNULL(Primary_Opportunity__r.Amount),Primary_Opportunity__r.Amount=0), 
Begins($RecordType.Name, &apos;PC&apos;) 
),

AND( 
ISCHANGED(StageName),
Probability &gt;= 0.40, 
OR(ISBLANK(Primary_Opportunity__r.Amount),ISNULL(Primary_Opportunity__r.Amount),Primary_Opportunity__r.Amount=0) 
,($RecordType.Name = &apos;HRS 401(k) Opportunity Record Type&apos; ||
$RecordType.Name = &apos;HRS 401(k) Opportunity FSS Record Type&apos;)
),

AND( 
ISCHANGED(StageName),
Probability &gt;= 0.50, 
OR(ISBLANK(Primary_Opportunity__r.Amount),ISNULL(Primary_Opportunity__r.Amount),Primary_Opportunity__r.Amount=0), 
DATEVALUE(CreatedDate) &gt;= DATE(2019,08,06),
OR($RecordType.Name = &apos;Core Opportunity DSA Record Type&apos; 
,$RecordType.Name = &apos;Core Opportunity Record Type&apos; 
,$RecordType.Name = &apos;HNBF Opportunity DSA Record Type&apos; 
,$RecordType.Name = &apos;HNBF Opportunity Record Type&apos; 
,$RecordType.Name = &apos;MMS Opportunity (DSA) Record Type&apos; 
,$RecordType.Name = &apos;MMS Opportunity Record Type&apos; 
,$RecordType.Name = &apos;ASO Opportunity FSS Record Type&apos; 
,$RecordType.Name = &apos;ASO Opportunity Record Type&apos; 
,$RecordType.Name = &apos;PEO Opportunity FSS Record Type&apos; 
,$RecordType.Name = &apos;PEO Opportunity Record Type&apos; 
,$RecordType.Name = &apos;Core Virtual Sales&apos; 
,$RecordType.Name = &apos;Payment Processing (DSA) Opportunity&apos; 
,$RecordType.Name = &apos;Payment Processing Opportunity&apos; 
,$RecordType.Name = &apos;Prism PEO Opportunity FSS Record Type&apos; 
,$RecordType.Name = &apos;Prism PEO Opportunity Record Type&apos; 
,$RecordType.Name = &apos;TAA Opportunity Record Type&apos;
,$RecordType.Name = &apos;TAA DSA Opportunity Record Type&apos;)
)
), 
OR ($User.Job_Name__c = &apos;Sales Representative&apos; 
,$User.Job_Name__c = &apos;District Sales Manager&apos; 
,$User.Job_Name__c = &apos;District Sales Assistant&apos; 
,$User.Job_Name__c = &apos;Area Manager&apos; 
,$User.Job_Name__c = &apos;Area Assistant&apos; 
,$User.Job_Name__c = &apos;Zone Manager&apos; 
,$User.Job_Name__c = &apos;Zone Assistant&apos;
,$Profile.Name = &apos;MMS SDR&apos;),
NOT(BEGINS($Profile.Name, &apos;System Administrator&apos;))
)</errorConditionFormula>
    <errorMessage>You must enter a valid product and revenue before an opportunity can be changed to 50% (40% for HRS 401i) or greater.</errorMessage>
</ValidationRule>
