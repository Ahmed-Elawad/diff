<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>agentsync__Producer_Assignment_match</fullName>
    <active>true</active>
    <description>The Producer Assignment being assigned must match NPNs to the producer or be a generic Producer Assignment</description>
    <errorConditionFormula>AND(
  !ISBLANK(agentsync__AgentSync_Producer_Assignment__r.agentsync__NPN__c),
  OR(
    ISNEW(),
    ISCHANGED(agentsync__AgentSync_Producer_Assignment__c)
  ),
  agentsync__AgentSync_Producer_Assignment__r.agentsync__NPN__c !=  agentsync__NPN__c
)</errorConditionFormula>
    <errorDisplayField>agentsync__AgentSync_Producer_Assignment__c</errorDisplayField>
    <errorMessage>This Producer Assignment is not a generic Producer Assignment, or it does not match the current Producer&apos;s NPN.</errorMessage>
</ValidationRule>
