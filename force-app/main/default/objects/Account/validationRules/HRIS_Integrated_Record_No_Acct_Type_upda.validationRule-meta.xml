<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>HRIS_Integrated_Record_No_Acct_Type_upda</fullName>
    <active>true</active>
    <description>Prevents Account records with a populated BIS_ID field from having the Type field modified. Account. Type is updated via HRIS Integration.  Reps can change the type away from lost clients to one of the types containing peo/hroi/oasis. Modified(APR0164110)</description>
    <errorConditionFormula>AND(
NOT(BEGINS($Profile.Name,&quot;System Administrator&quot;)),
NOT(BEGINS($Profile.Name,&quot;Salesforce Support&quot;)) ,
NOT(BEGINS($Profile.Name,&quot;Enterprise Support&quot;)) ,
NOT(BEGINS($Profile.Name,&quot;2008-09 Operations Administration&quot;)),
NOT($UserRole.Name = &apos;PHRS HR Admin - RG6&apos;),
NOT($UserRole.Name = &apos;HRE Handbook Rep team 2&apos;) 
,
NOT(BEGINS($Profile.Name,&quot;Sales Enablement &quot;)) ,

ISCHANGED( Type ), NOT(ISNULL( Bis_ID__c )),
 Client_Status__c = &apos;A&apos;,
NOT(PRIORVALUE(Type)=&apos;Lost Client&apos;), NOT(CONTAINS(TEXT(Type),&apos;Oasis&apos;)), NOT(CONTAINS(TEXT(Type),&apos;HROi&apos;)), NOT(CONTAINS(TEXT(Type),&apos;PEO&apos;)),

NOT(ISPICKVAL(PRIORVALUE(Type),&apos;PEO Prospect&apos;))

)</errorConditionFormula>
    <errorDisplayField>Type</errorDisplayField>
    <errorMessage>**** This is an HRIS Integrated Record; the Prospect-Client Type can not be Modified****</errorMessage>
</ValidationRule>
