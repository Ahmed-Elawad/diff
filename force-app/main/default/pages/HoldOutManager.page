<!-- 

    History 
    ----------
    5/15/2015 Josh Cartwright created   
    10/14/2015 Josh Cartwright added accts and contacts  
    3/23/2016 Josh Cartwright updated page to use stanadardsetController, page can sort columns and display list includes pages
    04/13/20017 Sunnish Annu Have added new filter field Refferal account name  to the page  
    02/14/2018 Sunnish Annu Added Sales Parent Column to account Display
	06/03/2020 Jake Hinds	Adding Ref Acct Hold Out Reason
 -->   
 
<apex:page Controller="HoldOutController" tabStyle="Hold_Out_Manager__tab" >


<apex:includeScript value="{!$Resource.selectCheckboxesJs}" />  

<apex:stylesheet value="{!URLFOR($Resource.jQueryDataTablesZip, 'css/jquery.dataTables.css')}"/>
<style type="text/css">
.sorting {
    background: #f2f3f3 url('{! URLFOR($Resource.jQueryDataTablesZip, 'images/sort_both.png') }') no-repeat center right !important;
    padding-right: 20px !important;
}
.sorting_asc {
    background: #f2f3f3 url('{! URLFOR($Resource.jQueryDataTablesZip, 'images/sort_asc.png') }') no-repeat center right !important;
    padding-right: 20px !important;
}
.sorting_desc {
    background: #f2f3f3 url('{! URLFOR($Resource.jQueryDataTablesZip, 'images/sort_desc.png') }') no-repeat center right !important;
    padding-right: 20px !important;
}
.sorting_asc_disabled {
    background: #f2f3f3 url('{! URLFOR($Resource.jQueryDataTablesZip, 'images/sort_asc_disabled.png') }') no-repeat center right !important;
    padding-right: 20px !important;
}
.sorting_desc_disabled {
    background: #f2f3f3 url('{! URLFOR($Resource.jQueryDataTablesZip, 'images/sort_desc_disabled.png') }') no-repeat center right !important;
    padding-right: 20px !important;
}
table.dataTable tr.odd { background-color: white; }
table.dataTable tr.even { background-color: white; }
table.dataTable tr.odd td.sorting_1 { background-color: white; }
table.dataTable tr.odd td.sorting_2 { background-color: white; }
table.dataTable tr.odd td.sorting_3 { background-color: white; }
table.dataTable tr.even td.sorting_1 { background-color: white; }
table.dataTable tr.even td.sorting_2 { background-color: white; }
table.dataTable tr.even td.sorting_3 { background-color: white; }
.dataTables_length, .dataTables_filter, .dataTables_info, .dataTables_paginate {
    padding: 3px;
}
.scroll-zone{
    overflow: scroll; 
    max-height: 500px;
}
</style>


<apex:form >

<!-- <apex:includeScript value="{!$Resource.selectCheckboxesJs}" />   -->
    

    <apex:sectionHeader title="Hold Out Manager" />
    <div id="lightning-scroll" >
    <apex:pageBlock rendered="{!Not(selectReassignUser)}" id="manageHoldOutBlock">
        <apex:pagemessages />
        <apex:pageblocksection columns="1">
<!-- 
  No longer need this error, standardset controller will page records when there are more than 100
    
                    <apex:pageBlockSectionItem rendered="{!largeDisplayList}" > 
              <apex:outputLabel value="**Only 100 rows can be edited at a time**" />
        
            </apex:pageBlockSectionItem>
-->
                       <apex:pageBlockSectionItem > 

              <apex:outputLabel value="Sales Org"/> 
              <apex:outputPanel >
                 <apex:selectList rendered="{!mzac.hasMultipleSalesOrgs}" value="{!mzac.searchZa.Sales_Org__c}" title="Available Sales Orgs" size="1">
                    <apex:selectOptions value="{!mzac.salesOrgPicklist}"/>
                    <apex:actionSupport event="onchange" action="{!salesOrgSelected}" rerender="manageHoldOutBlock" status="updatingStructureStatus" />  
                 </apex:selectList>
                 <apex:outputField rendered="{!NOT(mzac.hasMultipleSalesOrgs)}" value="{!mzac.searchZa.Sales_Org__c}" />
              </apex:outputPanel>              
           </apex:pageBlockSectionItem>

          <apex:pageBlockSectionItem rendered="{!mzac.hasZoneOptions}" >
              <apex:outputLabel value="Zone"/>
              <apex:outputPanel >
                 <apex:selectList value="{!mzac.selectedZoneId}" title="Available Zones" size="1">
                    <apex:selectOptions value="{!mzac.zoneOptions}"/>
                    <apex:actionSupport event="onchange" action="{!zoneSelected}" rerender="manageHoldOutBlock" status="updatingStructureStatus" />  
                 </apex:selectList>
              </apex:outputPanel>
           </apex:pageBlockSectionItem>
        
             <apex:pageBlockSectionItem >
              <apex:outputLabel value="District" />
              <apex:outputPanel >
                 <apex:selectList rendered="{!mzac.hasDistrictOptions}" value="{!mzac.selectedDistrictId}" title="Available Districts" size="1">
                    <apex:selectOptions value="{!mzac.districtOptions}"/>
                    <apex:actionSupport event="onchange" action="{!districtSelected}" rerender="manageHoldOutBlock" status="updatingStructureStatus" />  
                 </apex:selectList>
                 <apex:outputText rendered="{!NOT(mzac.hasDistrictOptions)}" value="{!mzac.districtName}" />
              </apex:outputPanel>
           </apex:pageBlockSectionItem>
           
                               <apex:pageBlockSectionItem >
              <apex:outputLabel value="Select Object"/> 
              <apex:outputPanel >              
                <apex:selectList value="{!objectSelect}" size="1">
                    <apex:selectOptions value="{!Object}"/>
                    <apex:actionSupport event="onchange" action="{!districtSelected}" rerender="manageHoldOutBlock" status="updatingStructureStatus" />                      
                </apex:selectList>
            </apex:outputPanel>       
          </apex:pageBlockSectionItem>       
        
        
             <apex:pageBlockSectionItem >
              <apex:outputLabel value="Rep" />
              <apex:outputPanel >
                 <apex:selectList rendered="{!hasRepOptions}" value="{!selectedRepID}" title="Available Reps" size="1">
                    <apex:selectOptions value="{!repOptions}"/>
     <apex:actionSupport event="onchange" action="{!getRepHoldoutRecords}" rerender="manageHoldOutBlock" status="updatingStructureStatus" />
                 </apex:selectList>
                 <apex:outputText rendered="{!NOT(hasRepOptions)}" value="No Reps Found" />
              </apex:outputPanel>
           </apex:pageBlockSectionItem>            
             <apex:actionStatus startText="Updating Organization Structure..." id="updatingStructureStatus"/>
                
        </apex:pageblocksection>
        
        <apex:pageblocksection columns="1" rendered="{!isQueueable}"> 
        
            <apex:outputPanel >
                <apex:commandbutton value="Refresh Page" action="{!cancelReassign}"/> 
            </apex:outputPanel>
        
        </apex:pageblocksection>
        
        <apex:pageblocksection columns="1" rendered="{!hasSelectedRepID}">
            <apex:outputPanel style="width:100%;
    overflow: scroll; 
    max-height: 500px;" styleClass="scroll-zone">             

              <apex:commandButton value="{!IF(useFilter,'Remove','Use')} Filter" action="{!toggleUseFilter}" rerender="manageHoldOutBlock" status="updatingStructureStatus"/>
                &nbsp;              
                <apex:commandbutton rendered="{!hasDisplayList}" value="Re-Assign Hold Outs" action="{!reAssignHoldOut}"/>  
                &nbsp;          
                <apex:commandbutton rendered="{!hasDisplayList}" value="Remove Hold Outs"  onclick="return confirmRemoveHoldOut()"/>
                
                     <apex:actionFunction action="{!removeHoldOut}" name="jsRemoveHoldOut" />

    <script type="text/javascript">
       function confirmRemoveHoldOut() {
           if (confirm("Are you sure you want to remove the hold outs from the selected records?")) {
              return jsRemoveHoldOut();
           }
           return false;
        }
         
      
    </script> 
 

                
                
            </apex:outputPanel>
           <apex:outputPanel rendered="{!AND(useFilter,hasSelectedRepID)}">
           
               <apex:outputLabel value="Starting Zip"/> 
               &nbsp;
                 <apex:inputText value="{!zipLow}" maxlength="5" size="5"/>
               &nbsp;
                 <apex:outputLabel value="Ending Zip"/>
               &nbsp;
                 <apex:inputText value="{!zipHigh}" maxlength="5" size="5"/>
               &nbsp;
               <apex:outputPanel rendered="{!isAcct}">
               <apex:outputLabel Value="Strategic Partner" for="strataccntpartner" ></apex:outputLabel>
               &nbsp;
               <apex:inputText value="{!StrAccPartner}" id="strataccntpartner"/>
               &nbsp;
               </apex:outputPanel>
             <apex:outputPanel rendered="{!isRefCtct}">
               <apex:outputLabel value="Referral Type" /> 
               &nbsp;
              <apex:selectList value="{!referralTypeFilter}" size="1" > 
              &nbsp;          
                <apex:selectOptions value="{!options}" />       
                &nbsp;                   
               </apex:selectList>
              </apex:outputPanel>
              
            <apex:outputPanel rendered="{!isRefAcct}">
               <apex:outputLabel value="Referral Source Business Type"  /> 
               &nbsp;
              <apex:selectList value="{!rsbtFilter}" size="1"  > 
              &nbsp;          
                <apex:selectOptions value="{!RSBTOptions}" />       
                &nbsp;                  
               </apex:selectList> 
             </apex:outputPanel>
             
             <apex:outputPanel rendered="{!OR(isAcct,isRefAcct)}">
               <apex:outputLabel value="Hold Out Reason"  /> 
               &nbsp;
              <apex:selectList value="{!pHoldOutDescFilter}" size="1"  > 
              &nbsp;          
                <apex:selectOptions value="{!PermHoldOut}" />       
                &nbsp;                  
               </apex:selectList>
             </apex:outputPanel>  
 <!--             
            <apex:outputPanel rendered = "{!isAcct}">
               <apex:outputLabel value="Permanent Hold Out Description"  /> 
                    <apex:inputField value="{!queryAcct.Permanent_Hold_Out_Description__c}" />

             </apex:outputPanel>             
               -->              
               <apex:commandButton value="Apply Filter" action="{!applyFilter}" status="applyingFilterStatus" rerender="manageHoldOutBlock"/>
               <apex:actionStatus startText="Applying Filter..." id="applyingFilterStatus"/>
           </apex:outputPanel>           
            
            <apex:outputPanel rendered="{!hasSelectedMessage}">
                 <apex:outputText >              
                   {!selectedMessage}  
                 </apex:outputText>
            </apex:outputPanel> 
            
            <apex:pageBlockTable rendered="{!hasDisplayList}" id="displayTable" value="{!displayList}" var="rec" cellPadding="2" border="1" styleClass="dataTable">
                    <apex:facet name="header">
               <apex:panelGrid columns="3" width="100%" border="0" cellPadding="0" cellSpacing="0" rules="none">
                  <apex:outputText >
                     {!(selectedController.pageNumber * selectedController.pageSize)+1-selectedController.pageSize}-{!IF((selectedController.pageNumber * selectedController.pageSize)>selectedController.resultSize, selectedController.resultSize,(selectedController.pageNumber * selectedController.pageSize))} of {!selectedController.resultSize}
       <!--            
                 &nbsp; 
                 
                 {!selectedMessage} 
              -->    
                  </apex:outputText>
                  <apex:outputPanel >
                     <CENTER>
                     <apex:commandButton disabled="{!NOT(selectedController.hasPrevious)}" value="|<" action="{!firstPage}" rerender="manageHoldOutBlock" title="First Page"/>  
                     <apex:commandButton disabled="{!NOT(selectedController.hasPrevious)}" value="<" action="{!previous}" rerender="manageHoldOutBlock" title="Previous Page"/>
                     &nbsp;
                     <apex:commandButton disabled="{!NOT(selectedController.hasNext)}" value=">" action="{!next}" rerender="manageHoldOutBlock" title="Next Page"/>      
                     <apex:commandButton disabled="{!NOT(selectedController.hasNext)}" value=">|" action="{!lastPage}" rerender="manageHoldOutBlock" title="Last Page"/>
                     </CENTER>
                  </apex:outputPanel>
                  <apex:outputText style="text-align:right;">
                    <CENTER>
                     Page {!selectedController.pageNumber} of {!numOfPages}
                     </CENTER>
                  </apex:outputText>      
               </apex:panelGrid>   
            </apex:facet>
            <apex:facet name="footer">
               <apex:panelGrid columns="3" width="100%" border="0" cellPadding="0" cellSpacing="0" rules="none">
                  <apex:outputText >
                     {!(selectedController.pageNumber * selectedController.pageSize)+1-selectedController.pageSize}-{!IF((selectedController.pageNumber * selectedController.pageSize)>selectedController.resultSize, selectedController.resultSize,(selectedController.pageNumber * selectedController.pageSize))} of {!selectedController.resultSize}
                  </apex:outputText>
                  <apex:outputPanel >
                     <CENTER>
                     <apex:commandButton disabled="{!NOT(selectedController.hasPrevious)}" value="|<" action="{!firstPage}" rerender="manageHoldOutBlock" title="First Page"/>  
                     <apex:commandButton disabled="{!NOT(selectedController.hasPrevious)}" value="<" action="{!previous}" rerender="manageHoldOutBlock" title="Previous Page"/>
                     &nbsp;
                     <apex:commandButton disabled="{!NOT(selectedController.hasNext)}" value=">" action="{!next}" rerender="manageHoldOutBlock" title="Next Page"/>      
                     <apex:commandButton disabled="{!NOT(selectedController.hasNext)}" value=">|" action="{!lastPage}" rerender="manageHoldOutBlock" title="Last Page"/>
                     </CENTER>
                  </apex:outputPanel>
                  <apex:outputText style="text-align:right;">
                    <CENTER>
                     Page {!selectedController.pageNumber} of {!numOfPages}
                     </CENTER>
                  </apex:outputText>      
               </apex:panelGrid>   
            </apex:facet>
               
               
                <apex:column >
                   <apex:facet name="header"> 
                      <apex:outputPanel >
                      <apex:inputCheckbox value="{!selectAll}" id="holdOutSelectAll" title="Select All" onclick="selectAll('holdOutSelectCheckbox',this)" >
          
                      </apex:inputCheckbox>
                      Selected
                      </apex:outputPanel>
                   </apex:facet>
                   <apex:inputCheckbox value="{!rec.selected}" id="holdOutSelectCheckbox" >
                   </apex:inputCheckbox>
                </apex:column>
                                                
            <!-- Referral Contact Fields for Display Table  -->  
           <apex:column rendered="{!isRefCtct}" value="{!rec.refCtct.Name}"/>
           <apex:column rendered="{!isRefCtct}" value="{!rec.refCtct.Referral_Account__c}"/>
           <apex:column rendered="{!isRefCtct}" value="{!rec.refCtct.End_Date__c}"/>
           <apex:column rendered="{!isRefCtct}" value="{!rec.refCtct.Referral_ID__c}"/>
           <apex:column rendered="{!isRefCtct}" value="{!rec.refCtct.Street_Address_1__c}"/>
           <apex:column rendered="{!isRefCtct}" value="{!rec.refCtct.Referral_Type__c}"/>
           <apex:column rendered="{!isRefCtct}" value="{!rec.refCtct.City__c}"/>
           <apex:column rendered="{!isRefCtct}" value="{!rec.refCtct.State__c}"/>
           <apex:column rendered="{!isRefCtct}" value="{!rec.refCtct.Zip_Code__c}"/>
        
            
            <!--Referral Account Fields for Display Table-->
            <apex:column rendered="{!isRefAcct}" value="{!rec.refAcct.Name}"/>
            <apex:column rendered="{!isRefAcct}" value="{!rec.refAcct.Street_Address_1__c}"/>
            <apex:column rendered="{!isRefAcct}" value="{!rec.refAcct.City__c}"/>
            <apex:column rendered="{!isRefAcct}" value="{!rec.refAcct.State_Province__c}"/>
            <apex:column rendered="{!isRefAcct}" value="{!rec.refAcct.Zip_Postal_Code__c}"/>
            <apex:column rendered="{!isRefAcct}" value="{!rec.refAcct.Referral_Source_Business_Type__c}"/>   
            <apex:column rendered="{!isRefAcct}" value="{!rec.refAcct.End_Date__c}"/>   
            <apex:column rendered="{!isRefAcct}" value="{!rec.refAcct.Hold_Out_Reason__c}"/>
            
            <!-- Account Fields for Display Table -->
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.Name}"/>
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.AccountNumber}"/>     
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.Type}"/>  
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.SalesParent__r.Name}" headerValue="Sales Parent"/>            
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.ShippingStreet}"/> 
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.ShippingCity}"/>               
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.ShippingPostalCode}"/>    
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.NumberOfEmployees}"/>                
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.Hold_Out_Expiration__c}"/>                            
            <apex:column rendered="{!isAcct}" value="{!rec.Acct.Permanent_Hold_Out_Description__c}"/>
            
    </apex:pageBlockTable>  
            
        </apex:pageblocksection>
        
        
   <script type="text/javascript" language="javascript" src="{!URLFOR($Resource.jQueryDataTablesZip, 'js/jquery.js')}"></script>
<script type="text/javascript" language="javascript" src="{!URLFOR($Resource.jQueryDataTablesZip, 'js/jquery.dataTables.js')}"></script>
<script type="text/javascript" language="javascript">
var j$ = jQuery.noConflict();
j$('table.dataTable').dataTable({
 "paging":   false,
 "ordering": true,
 "info":     false,
 "filter":   false,
 "order" : [[1, "asc"]]
 ,"columnDefs": [
   { "orderable": false, "targets" : [0]}
]
});
</script>       

    </apex:pageBlock>
     
    <apex:pageBlock rendered="{!selectReassignUser}" id="selectReassignUserBlock">
    
    <apex:pagemessages />
        <apex:pageBlockSection columns="{!IF(isRefCtct,1,2)}">
            <apex:outputPanel >
                    <apex:commandbutton value="Perform Re-Assign" action="{!reAssignRecords}"/>
                    &nbsp;  
                    <apex:commandbutton value="Cancel" action="{!cancelReassign}" />    
            </apex:outputPanel>             

               <apex:pageBlockSectionItem rendered="{!isAcct}"/>
             
                  
               
                     <apex:pageBlockSectionItem rendered="{!mzac.hasZoneOptions}" >
                    <apex:outputLabel value="Zone"/>
                    <apex:outputPanel >
                       <apex:selectList value="{!mzac.selectedReassignZoneId}" title="Available Zones" size="1">
                          <apex:selectOptions value="{!mzac.zoneOptions}"/>
                          <apex:actionSupport event="onchange" action="{!reassignZoneSelected}" rerender="selectReassignUserBlock" status="updatingReassignStructureStatus" />  
                       </apex:selectList>
                    </apex:outputPanel> 
                 </apex:pageBlockSectionItem> 
                  
                 <apex:pageBlockSectionItem rendered="{!OR(isAcct,isRefAcct)}">
                         <apex:outputLabel value="Hold Out Reason"  /> 
                        <apex:selectList value="{!newPHoldOutDesc}" size="1"  > 
                        <apex:selectOptions value="{!NewPermHoldOut}" />        
                        </apex:selectList>                       
                </apex:pageBlockSectionItem>
            	
                        
    <!--        
                 <apex:pageBlockSectionItem rendered="{!isCtct}">
                        <apex:outputLabel value="Hold Out Reason" />                            
                         <apex:outputPanel >                                                                        
                             <apex:inputField value="{!queryCtct.Hold_Out_Reason__c}" />
                         </apex:outputPanel>                    
                </apex:pageBlockSectionItem>
            -->                                        
 
                 <apex:pageBlockSectionItem >
                    <apex:outputLabel value="District" />
                    <apex:outputPanel >
                       <apex:selectList rendered="{!mzac.hasDistrictReassignOptions}" value="{!mzac.selectedReassignDistrictId}" title="Available Districts" size="1">
                          <apex:selectOptions value="{!mzac.districtReassignOptions}"/>
                          <apex:actionSupport event="onchange" action="{!reAssignDistrictSelected}" rerender="selectReassignUserBlock" status="updatingReassignStructureStatus" />  
                       </apex:selectList>
                       <apex:outputText rendered="{!NOT(mzac.hasDistrictReassignOptions)}" value="{!mzac.districtName}" />
                    </apex:outputPanel>
                 </apex:pageBlockSectionItem>
                 <apex:actionStatus startText="Updating Organization Structure..." id="updatingReassignStructureStatus"/>

                 
                    <apex:pageBlockSectionItem > 
                              <apex:outputLabel value="New Owner" />
                              <apex:outputPanel >
                                 <apex:selectList rendered="{!hasReassignRepOptions}" value="{!ReassignSelectedRepID}" title="Available Reps" size="1">
                                    <apex:selectOptions value="{!reassignRepOptions}"/>
                                 </apex:selectList>
                                 <apex:outputText rendered="{!NOT(hasReassignRepOptions)}" value="No Reps Found" />
                              </apex:outputPanel> 
                           </apex:pageBlockSectionItem>      

<!--  not allowing hold out expirations to be set through form                 
                    <apex:pageBlockSectionItem rendered="{!isAcct}">
                       <apex:outputLabel value="Hold Out Exipration Date" />                 
                        <apex:outputPanel > 
                            <apex:inputField value="{!queryAcct.Hold_Out_Expiration__c}" />                      
                         </apex:outputPanel>                    
                  </apex:pageBlockSectionItem>  


                    <apex:pageBlockSectionItem rendered="{!isCtct}">
                       <apex:outputLabel value="Hold Out Exipration Date" />
                     
                        <apex:outputPanel > 
                            <apex:inputField value="{!queryCtct.Hold_Out_Expiration__c}" />                      
                         </apex:outputPanel>                    
                  </apex:pageBlockSectionItem>  
-->
    </apex:pageBlockSection> 

        <apex:pageBlockTable rendered="{!AND(selectReassignUser ,isRefCtct)}" id="selectedlist" value="{!selectedList}" var="rec" cellPadding="2" border="1">
            

                <apex:column value="{!rec.refCtct.Name}" />
                <apex:column value="{!rec.refCtct.Referral_Account__c}"/> 
                <apex:column value="{!rec.refCtct.End_Date__c}"/>
                <apex:column value="{!rec.refCtct.Referral_ID__c}"/>
                <apex:column value="{!rec.refCtct.Street_Address_1__c}"/>
                <apex:column value="{!rec.refCtct.Referral_Type__c}"/>
                <apex:column value="{!rec.refCtct.City__c}"/>                                    
                <apex:column value="{!rec.refCtct.State__c}"/>
                <apex:column value="{!rec.refCtct.Zip_Code__c}"/>                   
      
            </apex:pageBlockTable>      
            
    
        <apex:pageBlockTable rendered="{!AND(selectReassignUser ,isRefAcct)}" id="raSelectedList" value="{!selectedList}" var="rec" cellPadding="2" border="1">
           
            <apex:column value="{!rec.refAcct.Name}" />     
            <apex:column value="{!rec.refAcct.Street_Address_1__c}" />                 
            <apex:column value="{!rec.refAcct.City__c}" />  
            <apex:column value="{!rec.refAcct.State_Province__c}" />              
            <apex:column value="{!rec.refAcct.Zip_Postal_Code__c}" />  
            <apex:column value="{!rec.refAcct.Referral_Source_Business_Type__c}" />  
            <apex:column value="{!rec.refAcct.End_Date__c}" />  
            <apex:column value="{!rec.refAcct.Hold_Out_Reason__c}" />  
            
            
            </apex:pageBlockTable>               
                        
    <apex:pageBlock title="Records to be Re-assigned:" rendered="{!AND(selectReassignUser ,isAcct, hasSelectedList)}">
            
    <apex:pageBlockTable id="aSelectedList" value="{!selectedList}" var="rec" cellPadding="2" border="1">
            <apex:column value="{!rec.Acct.Name}" />  
            <apex:column value="{!rec.Acct.AccountNumber}" />     
            <apex:column value="{!rec.Acct.Type}" />               
            <apex:column value="{!rec.Acct.ShippingStreet}" /> 
            <apex:column value="{!rec.Acct.ShippingCity}" />               
            <apex:column value="{!rec.Acct.ShippingPostalCode}" />    
            <apex:column value="{!rec.Acct.NumberOfEmployees}" />                
            <apex:column value="{!rec.Acct.Hold_Out_Expiration__c}" />                            
            <apex:column value="{!rec.Acct.Permanent_Hold_Out_Description__c}" />              
            
            
            
            </apex:pageBlockTable>   
        </apex:pageBlock>

 <apex:pageBlock title="{!if (isAcct,'These Records cannot be Re-assigned, you may only re-assign records with permanent holdouts','These Records cannot be Re-assigned:' )}" rendered="{!AND(selectReassignUser ,isAcct, hasNoAccessList)}">
    
            
    <apex:pageBlockTable id="aNoAccesslist" value="{!noAccessList}" var="rec" cellPadding="2" border="1">
            
            <apex:column value="{!rec.Acct.Name}" />  
            <apex:column value="{!rec.Acct.AccountNumber}" />     
            <apex:column value="{!rec.Acct.Type}" />               
            <apex:column value="{!rec.Acct.ShippingStreet}" /> 
            <apex:column value="{!rec.Acct.ShippingCity}" />               
            <apex:column value="{!rec.Acct.ShippingPostalCode}" />    
            <apex:column value="{!rec.Acct.NumberOfEmployees}" />                
            <apex:column value="{!rec.Acct.Hold_Out_Expiration__c}" />                            
            <apex:column value="{!rec.Acct.Permanent_Hold_Out_Description__c}" />              
            
            
            
            </apex:pageBlockTable>
            
    </apex:pageBlock>               
<!--            
    <apex:pageBlockTable rendered="{!AND(selectReassignUser ,isCtct)}" id="cSelectedList" value="{!selectedList}" var="rec" cellPadding="2" border="1">
             
            <apex:column value="{!rec.Ctct.Name}" />   
            <apex:column value="{!rec.Ctct.AccountId}"/>                          
            <apex:column value="{!rec.Ctct.MailingStreet}" />              
            <apex:column value="{!rec.Ctct.MailingCity}" />  
            <apex:column value="{!rec.Ctct.MailingPostalCode}" />       
        
            </apex:pageBlockTable>      
    
     -->    
    </apex:pageBlock>
</div>

<!-- script prevents page from automatically displaying pop up calendar when moving to the reassign page -->    
    <script>

    function setFocusOnLoad() {}    
      
    function addScrollbarsInLightning(){
        var theme = '{!$User.UIThemeDisplayed}';
        if(theme.includes('Theme4')){
            var scrollSection = document.getElementById('lightning-scroll');
            scrollSection.style.overflow = 'scroll';
            scrollSection.style.width = '100%';
            scrollSection.style.height = '80vh';
        }
    }
    addScrollbarsInLightning();
    </script>                           


    

</apex:form>
</apex:page>