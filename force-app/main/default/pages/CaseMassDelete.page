<apex:page id="idPage" standardController="Case" recordSetVar="caseRec" extensions="MyCasesMassDeleteController" standardStylesheets="true" tabStyle="Case" title="Mass Delete Cases By Record Types">
    <apex:includeScript value="/soap/ajax/9.0/connection.js"/>
    <apex:form id="idForm">
        <apex:pageBlock tabStyle="Case">
            <apex:actionFunction action="{!doDelete}" id="idDeleteRec" name="delRec" oncomplete="return resetSelection();" reRender="idListView" status="idStatusWait"/>
            <apex:pageBlockSection columns="1" showHeader="true">
                <a href="{!$CurrentPage.parameters.retURL}">back</a>
                <apex:outputPanel style="width:100%;align:center;text-align:center;">
                    <p style="font-weight:bold;"><span><apex:outputText value="Mass Delete Cases"/>
                    <br/>
                        <apex:actionStatus id="idStatusWait">
                            <apex:facet name="start">Please wait...</apex:facet>
                        </apex:actionStatus> </span>
                    </p>
                </apex:outputPanel>
                <apex:outputPanel style="width:100%;align:center;text-align:center;" rendered="{!listAllCases.size == 0}">
                Please select records to delete from list on previous page
                </apex:outputPanel>
            </apex:pageBlockSection>
            <apex:outputPanel id="idListMyView" style="width:100%;">
                <table style="border:1px 1px 0px 1px solid lightgrey;margin:0px 0px 0px 0px;padding:0px 0px 0px 0px;width:100%">
                    <tr>
                        <td style="width:40%;align:left;text-align:left;">
                        </td>
                        <td style="width:20%;align:center;text-align:center;">
                            <p>Cases I have created</p>
                        </td>
                        <td style="width:40%;align:right;text-align:right;padding-top:4px">
                            <!-- <apex:panelGroup >
                                <apex:commandLink rendered="{!setCon.hasPrevious}" action="{!setCon.Previous}" value="Prev"/>
                                <apex:outputText rendered="{!NOT setCon.hasPrevious}" value="Prev"></apex:outputText>
                                <apex:outputText value=" | "></apex:outputText>
                                <apex:commandLink rendered="{!setCon.hasNext}" action="{!setCon.Next}" value="Next"/>
                                <apex:outputText rendered="{!NOT setCon.hasNext}" value="Next"></apex:outputText>
                           </apex:panelGroup> -->
                        </td>
                    </tr>
                </table>
                <apex:pageBlockTable id="idListView1" align="center" border="1" var="cs" value="{!listMyCases}" width="100%" cellspacing="0">
                    <apex:column value="{!cs.CaseNumber}">
                        <apex:facet name="header">{!$ObjectType.Case.Fields.CaseNumber.Label}</apex:facet>
                    </apex:column>
                    <apex:column value="{!cs.ContactId}" headerValue="Contact">
                         <!-- <apex:facet name="header">{!$ObjectType.Case.Fields.ContactId.Label}</apex:facet> -->
                    </apex:column>
                   <apex:column value="{!cs.Subject}">
                        <apex:facet name="header">{!$ObjectType.Case.Fields.Subject.Label}</apex:facet>
                    </apex:column>
                    <apex:column value="{!cs.Status}">
                        <!-- <apex:facet name="header">{!$ObjectType.Case.Fields.Status.Label}</apex:facet> -->
                    </apex:column>
                    <apex:column value="{!cs.Type}">
                        <apex:facet name="header">{!$ObjectType.Case.Fields.Type.Label}</apex:facet>
                    </apex:column>
                    <apex:column value="{!cs.OwnerId}" headerValue="Case Owner">
                        <!-- <apex:facet name="header">{!$ObjectType.Case.Fields.OwnerId.Label}</apex:facet> -->
                    </apex:column>
                    <apex:column value="{!cs.RecordTypeId}" headerValue="Case Record Type">
                        <!-- <apex:facet name="header">{!$ObjectType.Case.Fields.RecordTypeId.Label}</apex:facet> -->
                    </apex:column>
                </apex:pageBlockTable>
                <table style="border:1px 1px 0px 1px solid lightgrey;margin:0px 0px 0px 0px;padding:0px 0px 0px 0px;width:100%">
                    <tr>
                        <td style="width:40%;align:left;text-align:left;">
                        </td>
                        <td style="width:20%;align:center;text-align:center;">
                            <input type="button" onclick="return deleteRecords();" value="Delete"/>
                        </td>
                        <td style="width:40%;align:right;text-align:right;padding-top:4px">
                            <!-- <apex:panelGroup >
                                <apex:commandLink rendered="{!setCon.hasPrevious}" action="{!setCon.Previous}" value="Prev"/>
                                <apex:outputText rendered="{!NOT setCon.hasPrevious}" value="Prev"></apex:outputText>
                                <apex:outputText value=" | "></apex:outputText>
                                <apex:commandLink rendered="{!setCon.hasNext}" action="{!setCon.Next}" value="Next"/>
                                <apex:outputText rendered="{!NOT setCon.hasNext}" value="Next"></apex:outputText>
                           </apex:panelGroup> -->
                        </td>
                    </tr>
                </table>
            </apex:outputPanel>
            <apex:pageblockSection ></apex:pageblockSection>
            <apex:outputPanel id="idListOtherView" style="width:100%;">
                <table style="border:1px 1px 0px 1px solid lightgrey;margin:0px 0px 0px 0px;padding:0px 0px 0px 0px;width:100%">
                    <tr>
                        <td style="width:2%;align:left;text-align:left;">
                        </td>
                        <td style="width:65%;align:center;text-align:center;">
                            <p>Below are the cases that will not be deleted. You can only mass delete cases you have created</p>
                        </td>
                        <!-- td style="width:40%;align:right;text-align:right;padding-top:4px">
                            <apex:panelGroup >
                                <apex:commandLink rendered="{!setCon.hasPrevious}" action="{!setCon.Previous}" value="Prev"/>
                                <apex:outputText rendered="{!NOT setCon.hasPrevious}" value="Prev"></apex:outputText>
                                <apex:outputText value=" | "></apex:outputText>
                                <apex:commandLink rendered="{!setCon.hasNext}" action="{!setCon.Next}" value="Next"/>
                                <apex:outputText rendered="{!NOT setCon.hasNext}" value="Next"></apex:outputText>
                           </apex:panelGroup> 
                        </td -->
                    </tr>
                </table>
                <apex:pageBlockTable id="idListView2" align="center" border="1" var="cs" value="{!listOtherCases}" width="100%" cellspacing="0">
                    <apex:column value="{!cs.CaseNumber}">
                        <apex:facet name="header">{!$ObjectType.Case.Fields.CaseNumber.Label}</apex:facet>
                    </apex:column>
                    <apex:column value="{!cs.ContactId}" headerValue="Contact">
                         <!-- <apex:facet name="header">{!$ObjectType.Case.Fields.ContactId.Label}</apex:facet> -->
                    </apex:column>
                   <apex:column value="{!cs.Subject}">
                        <apex:facet name="header">{!$ObjectType.Case.Fields.Subject.Label}</apex:facet>
                    </apex:column>
                    <apex:column value="{!cs.Status}">
                        <!-- <apex:facet name="header">{!$ObjectType.Case.Fields.Status.Label}</apex:facet> -->
                    </apex:column>
                    <apex:column value="{!cs.Type}">
                        <apex:facet name="header">{!$ObjectType.Case.Fields.Type.Label}</apex:facet>
                    </apex:column>
                    <apex:column value="{!cs.OwnerId}" headerValue="Case Owner">
                        <!-- <apex:facet name="header">{!$ObjectType.Case.Fields.OwnerId.Label}</apex:facet> -->
                    </apex:column>
                    <apex:column value="{!cs.RecordTypeId}" headerValue="Case Record Type">
                        <!-- <apex:facet name="header">{!$ObjectType.Case.Fields.RecordTypeId.Label}</apex:facet> -->
                    </apex:column>
                </apex:pageBlockTable>
                <table style="border:1px 1px 0px 1px solid lightgrey;margin:0px 0px 0px 0px;padding:0px 0px 0px 0px;width:100%">
                    <tr>
                        <td style="width:40%;align:left;text-align:left;">
                        </td>
                        <td style="width:20%;align:center;text-align:center;">
                            <!-- <input type="button" onclick="return deleteRecords();" value="Delete"/> -->
                        </td>
                        <td style="width:40%;align:right;text-align:right;padding-top:4px">
                            <!-- <apex:panelGroup >
                                <apex:commandLink rendered="{!setCon.hasPrevious}" action="{!setCon.Previous}" value="Prev"/>
                                <apex:outputText rendered="{!NOT setCon.hasPrevious}" value="Prev"></apex:outputText>
                                <apex:outputText value=" | "></apex:outputText>
                                <apex:commandLink rendered="{!setCon.hasNext}" action="{!setCon.Next}" value="Next"/>
                                <apex:outputText rendered="{!NOT setCon.hasNext}" value="Next"></apex:outputText>
                           </apex:panelGroup> -->
                        </td>
                    </tr>
                </table>
            </apex:outputPanel>
        </apex:pageBlock>
    </apex:form>
    <script>
        function deleteRecords(){
            
            
            var ret = confirm('{!listMyCases.size}' + ' record(s) will be deleted. Do you want to delete the records?');
            if (ret == true){
                delRec();
            }
            return;
        }    
    </script>
</apex:page>